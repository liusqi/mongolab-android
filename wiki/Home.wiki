#labels Phase-Implementation,Featured
# How-to.

= MongoLabAndroid =

A simple library to connect to a mongolab db and save boilerplate code (httpget, httppost etc.)


= Usage =

In your android activity, include the following:

{{{
private final String DB_URL = "https://api.mongolab.com/api/...";
private final String API_KEY = "your-api-key";
private final String COLLECTION = "your-collection";
...
MongoLabCollection coll = new MongoLabCollection(DB_URL, API_KEY, COLLECTION);
String json = coll.getAll(); //gets all results in your collection
try {
  JSONArray results = new JSONArray(json);
  // do something with your results...
} catch(JSONException e){
  // handle your exception
}

// post example with simple parameters
List<NameValuePair> params = new ArrayList<NameValuePair>();
params.add(new BasicNameValuePair("type", "restaurant"));
params.add(new BasicNameValuePair("foodtype", "Italian"));

String json = coll.post(params);

// runCommand with json file attached
String filecontent = "{ geoNear: \"restaurants\", near : [51.901283,-8.484535], spherical: true, distanceMultiplier: 3963.192 }"; 
				
String jsonfilepath = getExternalCacheDir() + "request.json"; 
File jsonfile = new File(jsonfilepath);
				
FileWriter fw = new FileWriter(jsonfile);
fw.write(filecontent);
fw.flush();
fw.close();				
String json = restaurants.runCommand( new File(jsonfilepath) );

}}}